<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>그래프 그리기</title>
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<style>
			*{margin:0; padding:0;}
			button{width:120px; height:30px; text-align:center;}
			div{width:900px; height:700px; margin:20px auto; border:2px solid black;}
		</style>
		<script>
			function gbtn(){
				
				$.ajax({
					url:"js/data.json",
					dataType:"json",
					type:"get",
					success: function(data){
						let arrX = new Array();
						let arrY = new Array();
						let title = "학생성적표";
						
						for(let i=0;i<data.length;i++){
							arrX.push(data[i].name);
							arrY.push(data[i].total);
						}
						
						//F12 콘솔창에 값 띄워지는지 확인
						console.log(arrX);
						console.log(arrY);
						
						//그래프 그리기
						alert("그래프 그리기");
						
						const ctx = document.getElementById('myChart');
						new Chart(ctx, {
						    type: 'bar',
						    data: {
						      labels: arrX,
						      datasets: [{
						        label: "학생",
						        data: arrY,
						        borderWidth: 1
						        
						      }]
						    },
						    options: {
						      scales: {
						        y: {
						          beginAtZero: true
						        }
						      }
						    }
						  });//Chart
						
					},
					error:function(){
						alert("실패");
					}
					
				}); //ajax
				
			}//gbtn
			
		</script>
	</head>
	<body>
		<button onclick="gbtn()">그래프 그리기</button>
		<br>
		<div>
  			<canvas id="myChart"></canvas>
		</div>
	
	</body>
</html>